Package ArduinoSpecificPackage{
	Import all from commonPackage;
	//data type definition based on the parameters defined in the behavioral interface
	
	Type Sketch;
	Type Button(
		id of type String,
		level of type Integer
	);
	Type Led(
		id of type String,
		level of type Integer
	);
	//definition of model state based on operational semantics-required for testing
	Type modelState(
		buttons of type Button,
		leds of type Led
	);
	
	//events from behavioral interface
	Type RunArduino (
		sketch of type Sketch
	);
	Type Button_pressed (
		button of type Button
	);
	Type Button_released (
		button of type Button
	);
	Type Led_level_changed(
		led of type Led,
		level of type Integer
	);
	
	//definition of new events required for testing
	Type setState(
		state of type modelState
	);
	
	//Test configuration
	Gate Type genericGate accepts runModel;//a gate for exchanging of generic types
	//a gate for exchanging of dsl-specific types (based on DSL's behavioral interface)
	Gate Type dslSpecificGate accepts RunArduino, Button_pressed, Button_released, Led_level_changed;
	Gate Type oclGate accepts OCL;//a gate for querying the MUT using OCL 
	
	Component Type TestSystem having{
		gate genericTestGate of type genericGate;
		gate dslSpecificTestGate of type dslSpecificGate;
		gate oclTestGate of type oclGate;
	}
	Component Type MUT having{
		gate genericMUTGate of type genericGate;
		gate dslSpecificMUTGate of type dslSpecificGate;
		gate oclMUTGate of type oclGate;
	}
	Test Configuration genericConfiguration{
		create Tester tester of type TestSystem;
		create SUT arduino of type MUT with {MUTPath : "model/petrinet.xmi";};
		connect tester.genericTestGate to arduino.genericMUTGate;
	}
	Test Configuration dslSpecificConfiguration{
		create Tester tester of type TestSystem;
		create SUT arduino of type MUT with {MUTPath : "model/petrinet.xmi";};
		connect tester.genericTestGate to arduino.genericMUTGate;
		connect tester.dslSpecificTestGate to arduino.dslSpecificMUTGate;
	}
	Test Configuration oclConfiguration{
		create Tester tester of type TestSystem;
		create SUT arduino of type MUT with {MUTPath : "model/petrinet.xmi";};
		connect tester.genericTestGate to arduino.genericMUTGate;
		connect tester.oclTestGate to arduino.oclMUTGate;
	}
}